# 06/26_ESP32を初めて使ってみる
## きっかけ
先日買った、ESP32を動かしてみる。なぜ買ったかというと、大学の授業で必要？になったから。グループワークで『災害』をテーマに何か企画を立ち上げるという授業があり、
自分のグループで水位センサを市街にたくさん設置し、浸水情報をリアルタイムで見れるようにし、ハザードマップのアプリケーションを用いて、最適な避難経路を提示しようという企画を立ち上げた。
技術面での話し合いのとき、水位センサの情報を無線通信できるように、wifiやbluetooth通信ができる小さく安価なモジュールとしてESP32が上がった。
## やったこと
- Arduino IDEの初期設定、ESP32ピンアサインの確認を行った。
- bluetooth通信をしてみる
    - [ESP32-DevKitC - プログラミング入門 - Qiita](https://qiita.com/freezeeyes/items/16cd5a18ef6f0c2294c4)のソースをコピペして、bluetooth通信の動作を確認してみた。
サイトのデータ送信の章のソースを書き込み。teratermを使ってbluetoothシリアル通信をモニタして、PCがHelloWorld!という文字列を一定間隔で受信できているを確認できた。
- 水位センサを使ってみる
    - [Arduinoで水位センサーを使ってみた - Grow up](https://knkomko.hatenablog.com/entry/2019/09/18/061741)のソースをコピペして、水位センサの動作を出力する信号を確認してみた。仕組みとしては、飛び出た2極の銅線と銅線の間に水がつくことで電流が流れるというもの。出力電圧をシリアルモニタで確認した。水につけて、水滴が残っているようだと出力電圧は変わってしまい、水位を図るという目的だと精度がいまいち。
- 上記の水位センサとbluetooth通信を組み合わせる
    - bluetoothのHelloWorld!を水位センサの数値に変えただけ。なんか目的に一気に近づいた気分。

## 今後課題
- 水位センサの精度の低さ
- ESP32を外で使うための電力供給
- ESP32の相互通信

## 気になったこと
- 研究で機械語やハードを直で触っているから、Arduino IDEのはく機械語を逆アセンブルしてみてみたい。また、ESP32がどんな命令セットを使っているのか、具体的な構成が気になる...
- ESP32を市街にばらまき、ESP32(クライアント)が相互通信しサーバ(ホスト)に持っていく際、輻輳制御が必要になるのかな...
